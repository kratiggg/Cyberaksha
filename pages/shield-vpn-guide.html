<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shield VPN Setup Guide</title>
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="../css/dashboard.css">
  <style>
    :root {
      --primary-color: #3a86ff;
      --secondary-color: #8338ec;
      --accent-color: #ff006e;
      --text-color: #333;
      --light-text: #666;
      --bg-color: #f5f7fa;
      --card-bg: #ffffff;
      --border-color: #e1e5eb;
      --success-color: #38b000;
      --warning-color: #ffbe0b;
      --danger-color: #ff5400;
      --box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
    }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      text-align: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      border-radius: 10px;
      margin-bottom: 30px;
      box-shadow: var(--box-shadow);
    }
    
    h1 {
      margin: 0;
      font-size: 2.5rem;
    }
    
    .subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-top: 10px;
    }
    
    .card {
      background-color: var(--surface-color);
      border-radius: 10px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: var(--card-shadow);
      border-left: 4px solid var(--primary-color);
    }
    
    h2 {
      color: var(--primary-color);
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 10px;
      margin-top: 0;
    }
    
    h3 {
      color: var(--secondary-color);
      margin-top: 25px;
    }
    
    ul, ol {
      padding-left: 25px;
    }
    
    li {
      margin-bottom: 10px;
    }
    
    code {
      background-color: var(--surface-darker);
      padding: 3px 6px;
      border-radius: 3px;
      font-family: Consolas, Monaco, 'Andale Mono', monospace;
      font-size: 0.9em;
    }
    
    .code-block {
      background-color: var(--surface-darker);
      color: var(--text-color);
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      margin: 15px 0;
      font-family: Consolas, Monaco, 'Andale Mono', monospace;
    }
    
    .note {
      background-color: rgba(58, 134, 255, 0.1);
      border-left: 4px solid var(--primary-color);
      padding: 15px;
      border-radius: 5px;
      margin: 20px 0;
    }
    
    .warning {
      background-color: rgba(255, 190, 11, 0.1);
      border-left: 4px solid var(--warning-color);
      padding: 15px;
      border-radius: 5px;
      margin: 20px 0;
    }
    
    .btn {
      display: inline-block;
      background-color: var(--primary-color);
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      text-decoration: none;
      margin-top: 15px;
      transition: background-color 0.2s;
    }
    
    .btn:hover {
      background-color: var(--secondary-color);
    }
    
    footer {
      text-align: center;
      margin-top: 50px;
      padding: 20px;
      color: var(--text-secondary);
      font-size: 0.9rem;
      border-top: 1px solid var(--border-color);
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      header {
        padding: 30px 15px;
      }
      
      h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Shield VPN Setup Guide</h1>
      <div class="subtitle">Create your own secure VPN connection with complete privacy control</div>
    </header>
    
    <div class="card">
      <h2>Introduction</h2>
      <p>Shield VPN is a self-hosted VPN solution that gives you complete control over your internet privacy and security. Unlike commercial VPN services, Shield VPN allows you to run your own VPN server, ensuring that you have full control over your data and connection.</p>
      <p>This guide will walk you through the process of setting up your own Shield VPN server and configuring it to work with the Shield browser extension.</p>
      
      <div class="note">
        <strong>Note:</strong> Setting up a self-hosted VPN requires some technical knowledge and access to a server. If you're not comfortable with command line operations, you might want to consider using a commercial VPN service like ProtonVPN instead.
      </div>
    </div>
    
    <div class="card">
      <h2>Prerequisites</h2>
      <p>Before you begin, make sure you have the following:</p>
      <ul>
        <li>A server or VPS with a static IP address (from providers like DigitalOcean, AWS, Linode, etc.)</li>
        <li>Basic knowledge of command line operations</li>
        <li>SSH access to your server</li>
        <li>A domain name (optional but recommended)</li>
        <li>Shield browser extension installed</li>
      </ul>
      
      <p>System requirements for your server:</p>
      <ul>
        <li>Ubuntu 20.04 LTS or newer (recommended), or any Linux distribution that supports WireGuard</li>
        <li>At least 1GB RAM</li>
        <li>10GB storage</li>
        <li>1 CPU core (minimum)</li>
      </ul>
    </div>
    
    <div class="card">
      <h2>Setup Options</h2>
      <p>There are two ways to set up Shield VPN:</p>
      
      <h3>1. Easy Setup (Recommended)</h3>
      <p>Using Docker and our automated setup script, you can have your Shield VPN up and running in minutes. This method is recommended for most users as it simplifies the installation process and handles all the configuration automatically.</p>
      
      <h3>2. Manual Setup</h3>
      <p>For advanced users who prefer complete control over the installation process, we also provide instructions for manually setting up WireGuard on your server. This method requires more technical knowledge but gives you more flexibility in configuring your VPN.</p>
    </div>
    
    <div class="card">
      <h2>Docker Setup Instructions</h2>
      <ol>
        <li>
          <strong>Connect to your server</strong> via SSH:
          <div class="code-block">ssh username@your-server-ip</div>
        </li>
        
        <li>
          <strong>Install Docker</strong> if it's not already installed:
          <div class="code-block">sudo apt update
sudo apt install -y docker.io docker-compose
sudo systemctl enable --now docker</div>
        </li>
        
        <li>
          <strong>Clone the Shield VPN repository</strong>:
          <div class="code-block">git clone https://github.com/shield-privacy/shield-vpn.git
cd shield-vpn</div>
        </li>
        
        <li>
          <strong>Run the setup script</strong>:
          <div class="code-block">./setup.sh</div>
          <p>The script will prompt you for your server's public IP address and other configuration options. Follow the on-screen instructions to complete the setup.</p>
        </li>
        
        <li>
          <strong>Download the client configuration</strong>:
          <div class="code-block">./generate-client.sh</div>
          <p>This will create a client configuration file (client.conf) that you'll need to download to your local machine.</p>
        </li>
        
        <li>
          <strong>Download and install the WireGuard client</strong> on your local machine:
          <ul>
            <li><a href="https://www.wireguard.com/install/" target="_blank">WireGuard Client Downloads</a></li>
          </ul>
        </li>
        
        <li>
          <strong>Import the client configuration</strong> into your WireGuard client.</li>
      </ol>
      
      <div class="note">
        <strong>Note:</strong> The Shield VPN setup is based on WireGuard, which is a modern, fast, and secure VPN protocol. The Docker setup automatically configures WireGuard for optimal security and performance.
      </div>
    </div>
    
    <div class="card">
      <h2>Manual Setup Instructions</h2>
      <p>For advanced users who prefer to set up WireGuard manually:</p>
      
      <ol>
        <li>
          <strong>Update your server</strong>:
          <div class="code-block">sudo apt update && sudo apt upgrade -y</div>
        </li>
        
        <li>
          <strong>Install WireGuard</strong>:
          <div class="code-block">sudo apt install -y wireguard</div>
        </li>
        
        <li>
          <strong>Generate the server and client keys</strong>:
          <div class="code-block">cd /etc/wireguard
wg genkey | tee server_private_key | wg pubkey > server_public_key
wg genkey | tee client_private_key | wg pubkey > client_public_key</div>
        </li>
        
        <li>
          <strong>Create the server configuration</strong>:
          <div class="code-block">sudo nano /etc/wireguard/wg0.conf</div>
          <p>Add the following content, replacing the placeholders with your actual values:</p>
          <div class="code-block">[Interface]
Address = 10.0.0.1/24
SaveConfig = true
ListenPort = 51820
PrivateKey = [Your server private key]
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

[Peer]
PublicKey = [Your client public key]
AllowedIPs = 10.0.0.2/32</div>
        </li>
        
        <li>
          <strong>Enable IP forwarding</strong>:
          <div class="code-block">sudo nano /etc/sysctl.conf</div>
          <p>Uncomment or add the following line:</p>
          <div class="code-block">net.ipv4.ip_forward=1</div>
          <p>Apply the changes:</p>
          <div class="code-block">sudo sysctl -p</div>
        </li>
        
        <li>
          <strong>Start the WireGuard server</strong>:
          <div class="code-block">sudo systemctl enable wg-quick@wg0
sudo systemctl start wg-quick@wg0</div>
        </li>
        
        <li>
          <strong>Create the client configuration</strong>:
          <div class="code-block">sudo nano /etc/wireguard/client.conf</div>
          <p>Add the following content, replacing the placeholders with your actual values:</p>
          <div class="code-block">[Interface]
PrivateKey = [Your client private key]
Address = 10.0.0.2/32
DNS = 1.1.1.1, 1.0.0.1

[Peer]
PublicKey = [Your server public key]
Endpoint = [Your server IP]:51820
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 25</div>
        </li>
      </ol>
      
      <div class="warning">
        <strong>Warning:</strong> The manual setup provides you with more control but requires careful configuration. Make sure to properly secure your server and follow best practices for VPN setup.
      </div>
    </div>
    
    <div class="card">
      <h2>Integrating with Shield Browser Extension</h2>
      <p>After setting up your Shield VPN server and client, you need to configure the Shield browser extension to use your VPN:</p>
      
      <ol>
        <li><strong>Open the Shield extension</strong> and go to the Privacy Network Settings.</li>
        <li><strong>Select "Shield VPN (Self-hosted)"</strong> from the VPN provider dropdown.</li>
        <li><strong>Enter the path to your WireGuard client application</strong> in the "VPN client path" field.</li>
        <li><strong>Configure domain-specific routing</strong> (optional) to route only specific traffic through your VPN.</li>
        <li><strong>Test your connection</strong> by clicking on the "Test Connection" button.</li>
      </ol>
      
      <div class="note">
        <strong>Note:</strong> The Shield browser extension uses the WireGuard client application to establish the VPN connection. Make sure the WireGuard client is properly installed and configured on your machine.
      </div>
    </div>
    
    <div class="card">
      <h2>Troubleshooting</h2>
      
      <h3>Connection Issues</h3>
      <ul>
        <li><strong>VPN client not found</strong>: Make sure you've correctly specified the path to your WireGuard client in the Shield extension settings.</li>
        <li><strong>Connection timeout</strong>: Check that your server's firewall allows traffic on port 51820 (UDP).</li>
        <li><strong>Authentication failure</strong>: Verify that the public and private keys are correctly configured in both server and client configurations.</li>
      </ul>
      
      <h3>Performance Issues</h3>
      <ul>
        <li><strong>Slow connection</strong>: Consider upgrading your server resources or choosing a server location closer to your physical location.</li>
        <li><strong>Frequent disconnections</strong>: Increase the PersistentKeepalive value in your client configuration.</li>
      </ul>
      
      <div class="warning">
        <strong>Important:</strong> If you're experiencing issues that you can't resolve, consider joining our community forum or GitHub repository for additional support.
      </div>
    </div>
    
    <div class="card">
      <h2>Security Best Practices</h2>
      <ul>
        <li><strong>Keep your server updated</strong> with the latest security patches.</li>
        <li><strong>Use strong encryption</strong> and secure key management.</li>
        <li><strong>Limit SSH access</strong> to your server using key-based authentication.</li>
        <li><strong>Configure a firewall</strong> to only allow necessary traffic.</li>
        <li><strong>Monitor server logs</strong> for suspicious activity.</li>
        <li><strong>Backup your configurations</strong> regularly.</li>
      </ul>
    </div>
    
    <footer>
      <p>Shield VPN Setup Guide • Last updated: May 2023</p>
      <p>For additional support, visit our <a href="https://github.com/shield-privacy/docs" target="_blank">documentation</a> or join our <a href="https://discord.gg/shield-privacy" target="_blank">community forum</a>.</p>
    </footer>
  </div>
</body>
</html> 